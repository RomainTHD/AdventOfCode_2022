"use strict";(self.webpackChunkadvent_of_code_2022=self.webpackChunkadvent_of_code_2022||[]).push([[220],{220:(p,u,l)=>{l.r(u),l.d(u,{default:()=>o});var h=l(562),s=(()=>{return(i=s||(s={}))[i.File=0]="File",i[i.Directory=1]="Directory",s;var i})();class o extends h.t{constructor(){super(...arguments),this.SIZE_LIMIT=1e5}transform1(r){const e={name:"root",type:s.Directory,parent:null,size:NaN,children:[]};e.parent=e;let t=e;return r.forEach(a=>{if(a.startsWith("$")){if("$ ls"!==a){const[,n]=a.match(/^\$ cd (.+)$/)||[];t="/"===n?e:".."===n?t.parent:t.children.find(c=>c.name===n)}}else{const[,n,c]=a.match(/^(\w+) (.+)$/)||[];t.children.push("dir"===n?{name:c,type:s.Directory,parent:t,size:NaN,children:[]}:{name:c,type:s.File,parent:t,size:parseInt(n,10)})}}),e}part1(r){return this.calcSize(r),this.explore(r)}explore(r){return r.children.map(e=>e.type===s.Directory?this.explore(e)+(r.size>=this.SIZE_LIMIT?0:r.size):0).reduce((e,t)=>e+t,0)}calcSize(r){return r.size=r.children.map(e=>e.type===s.File?e.size:this.calcSize(e)).reduce((e,t)=>e+t,0),r.size}}}}]);