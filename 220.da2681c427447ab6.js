"use strict";(self.webpackChunkadvent_of_code_2022=self.webpackChunkadvent_of_code_2022||[]).push([[220],{220:(p,h,a)=>{a.r(h),a.d(h,{default:()=>f});var u=a(562),s=(()=>{return(c=s||(s={}))[c.File=0]="File",c[c.Directory=1]="Directory",s;var c})();class f extends u.t{constructor(){super(...arguments),this.SIZE_LIMIT=1e5,this.TOTAL_AVAILABLE=7e7,this.TOTAL_UNUSED=3e7}transform1(r){const e={name:"root",type:s.Directory,parent:null,size:NaN,children:[]};e.parent=e;let t=e;return r.forEach(i=>{if(i.startsWith("$")){if("$ ls"!==i){const[,n]=i.match(/^\$ cd (.+)$/)||[];t="/"===n?e:".."===n?t.parent:t.children.find(l=>l.name===n)}}else{const[,n,l]=i.match(/^(\w+) (.+)$/)||[];t.children.push("dir"===n?{name:l,type:s.Directory,parent:t,size:NaN,children:[]}:{name:l,type:s.File,parent:t,size:parseInt(n,10)})}}),e}part1(r){return this.calcSize(r),this.getAllDirs(r,[]).filter(e=>e.size<=this.SIZE_LIMIT).reduce((e,t)=>e+t.size,0)}part2(r){this.calcSize(r);const t=this.TOTAL_UNUSED-(this.TOTAL_AVAILABLE-r.size);return this.getAllDirs(r,[]).filter(i=>i.size>=t).sort((i,n)=>i.size-n.size)[0].size}calcSize(r){return r.size=r.children.map(e=>e.type===s.File?e.size:this.calcSize(e)).reduce((e,t)=>e+t,0),r.size}getAllDirs(r,e){return e.push(r),r.children.forEach(t=>{t.type===s.Directory&&this.getAllDirs(t,e)}),e}}}}]);