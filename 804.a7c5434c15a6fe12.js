"use strict";(self.webpackChunkadvent_of_code_2022=self.webpackChunkadvent_of_code_2022||[]).push([[804],{804:(d,f,p)=>{p.r(f),p.d(f,{default:()=>u});var m=p(562);class u extends m.t{transform1(r){const t=[],e=[];let s=-1;const a=/^move (\d+) from (\d+) to (\d+)$/;r.forEach(o=>{if(a.test(o)){const[,h,c,l]=o.match(a)||[];t.push({from:parseInt(c,10)-1,to:parseInt(l,10)-1,quantity:parseInt(h,10)})}else/^(\s+\d+\s+)+$/.test(o)?s=[...o.matchAll(/(\d+)\s+/g)].length:/^(\s*\[.+]\s*)+$/.test(o)&&e.push(o)});const n=Array(s).fill(0).map(()=>[]);return e.reverse().forEach(o=>[...o.matchAll(/[[ ](.)[\] ]\s?/g)].forEach(([,h],c)=>" "===h?void 0:n[c].push(h))),[{length:s,stacks:n},t]}part1(r){const[t,e]=r;return e.forEach(({from:s,to:a,quantity:n})=>Array(n).fill("").forEach(()=>this.push(t,a,this.pop(t,s)))),t.stacks.map(s=>s[s.length-1]||" ").join("")}part2(r){const[t,e]=r;return e.forEach(({from:s,to:a,quantity:n})=>Array(n).fill("").map(()=>this.pop(t,s)).reverse().forEach(o=>this.push(t,a,o))),t.stacks.map(s=>s[s.length-1]||" ").join("")}pop(r,t){return r.stacks[t].pop()??this.error(`Cannot pop from empty stack at column ${t+1}`)}push(r,t,e){r.stacks[t].push(e)}error(r){throw new Error(r)}}}}]);